# 341-node zoned topology for scale testing.
# Swap with topology.env or use: cp topology-350.env topology.env
#
# 16 orgs, 7 backbone relays, 8 backbone personals.
# Mix of large (38-42 nodes), medium (20-27), and small (8-14) orgs.
#
# IMPORTANT: For topologies >100 nodes, bump Linux ARP neighbour table limits:
#   sudo sysctl -w net.ipv4.neigh.default.gc_thresh1=4096
#   sudo sysctl -w net.ipv4.neigh.default.gc_thresh2=8192
#   sudo sysctl -w net.ipv4.neigh.default.gc_thresh3=16384

# Backbone relay count (internet-facing boot nodes)
BACKBONE_COUNT=7

# Personal nodes connected directly to backbone
BACKBONE_PERSONAL=8

# 16 orgs: name:edges:keepers:personals
# Total org nodes: 326 (42+38+32+30+27+25+20+18+15+15+13+13+11+11+8+8)
ORG_SPEC=alpha:4:4:34,bravo:4:4:30,charlie:3:3:26,delta:3:3:24,echo:3:2:22,foxtrot:3:2:20,golf:2:2:16,hotel:2:2:14,india:2:1:12,juliet:2:1:12,kilo:2:1:10,lima:2:1:10,mike:2:1:8,november:2:1:8,oscar:1:1:6,papa:1:1:6

# Docker image
IMAGE=cordelia-node:test

# API bearer token
BEARER_TOKEN=test-token-fixed

# Log level (warn for scale tests)
RUST_LOG_LEVEL=warn

# Governor targets (scaled for 340+ node topology)
GOV_HOT_MIN=3
GOV_HOT_MAX=35
GOV_WARM_MIN=5
GOV_WARM_MAX=100
GOV_COLD_MAX=250

# Replication intervals (seconds)
SYNC_MODERATE=10
SYNC_TACITURN=30

# Proxy
PROXY_ENABLED=1
PROXY_IMAGE=cordelia-proxy:test
PROXY_PORT=3847
